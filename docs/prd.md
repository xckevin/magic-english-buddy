这份文档旨在将 **Magic English Buddy** 从一个初步的技术构想，转化为一套逻辑严密、可落地的系统性产品方案。

---

## 第一部分：设计思考构成与限定条件

在进入正式 PRD 之前，我基于您的需求和提供的素材，预先梳理了本项目的**核心限定条件**与**底层思考架构**，这将作为后续技术实现的“宪法”：

### 1. 核心限定条件 (Core Constraints)

* 
**离线优先 (Offline First)**：所有核心学习链路（读、查、练、存）必须在无网络环境下顺畅运行 。


* 
**低配置兼容**：针对偏远地区可能使用的旧款安卓平板或低性能设备，资源占用需极小化 。


* 
**去 AI 依赖化 (AI-Lite)**：P0 阶段不依赖云端大模型，仅将 AI 作为联网状态下的“魔法增益” 。


* 
**物理传输闭环**：在完全断网环境下，通过二维码等物理方式实现数据的收发与反馈 。



### 2. 思考逻辑构成 (Thinking Framework)

* 
**教育学：i+1 理论**：内容难度必须仅比用户当前水平高出“一点点”，通过分级系统防止挫败感 。


* 
**心理学：多巴胺反馈循环**：利用即时视觉反馈（果冻效果、星星）和成就系统替代外在的监督 。


* 
**游戏化：Octalysis（八角游戏化）框架**：通过“史诗意义（教育平等）”、“所有权（卡牌收集）”和“未知好奇（迷雾地图）”驱动长期粘性 。


* 
**技术架构：模块化解耦**：将内容（JSON）、引擎（PWA）、存档（IndexedDB）分离，便于志愿者贡献内容 。



---

## 第二部分：Magic English Buddy 系统详细设计文档

## 1. 项目概览与愿景

### 1.1 项目背景

针对偏远地区儿童面临的**资源不均**（无外教）、**动力不足**（学习枯燥）及**网络限制**（无宽带）三大痛点，本项目致力于打造一个“装在口袋里的英语伙伴” 。

### 1.2 核心愿景

将传统的英语阅读器（Utility）转型为具有情感连接的英语伙伴（Companion），通过魔法地图的形式，让孩子在无网状态下也能完成英语启蒙 。

---

## 2. 内容体系与分级地图（The World Map）

设计目的：解决“读什么”的问题，并提供明确的长短期目标感 。

### 2.1 七级魔法分级体系

遵循 i+1 理论，将内容划分为从 L1 到 L7 的阶梯式路径：

| 等级 | 称号 | 核心教学重点 | 视觉风格 

 |
| --- | --- | --- | --- |
| **L1** | 见习魔法师 | 名词、字母、基础词汇（如：Apple, Red） | **萌芽之森**：翠绿色、发光的种子 |
| **L2** | 咒语研习者 | 动词、祈使句、简单主谓宾（如：I like apples.） | **回声山谷**：山脉、瀑布、岩石 |
| **L3** | 元素使者 | 描述性形容词、主谓宾结构、复合句 | **闪耀之海**：深蓝色、珊瑚礁 |
| **L4** | 守护者 | 50-100 词短故事、时态变化 | **云端之城**：白色、金边建筑 |
| **L5** | 传奇贤者 | 知识类、寓言故事、文化背景 | **永恒星空**：紫黑色、星座 |
| **L6** | 跨时空旅行者 | 过去完成时、条件状语从句、逻辑连接词 | **时光回廊**：蒸汽朋克、齿轮、沙漏 |
| **L7** | 创世之主 | 虚拟语气、修辞手法、批判性思维、长篇演说 | **创世之核**：抽象几何、纯白光芒 |

### 2.2 迷雾地图 (Fog of War) 机制

* 
**线性解锁**：地图初始被乌云覆盖，必须通过当前关卡的 Quiz 才能点亮下一关 。


* 
**分支设计**：每隔 5 个主线节点设计一个“支线任务”，掉落 Buddy 稀有装饰品 。


* 
**动态反馈**：当区域内所有节点净化后，地图背景会从黑白变为彩色 。



---

## 3. 智能阅读引擎设计（The Magic Mirror）

设计目的：实现极致的沉浸式输入（Comprehensive Input） 。

### 3.1 视觉同步与发音 (TTS Sync)

* 
**Follow-the-Light**：朗读时当前单词高亮。点击任意单词触发单词级 TTS 。


* 
**本地引擎**：优先调用 `SpeechSynthesis` API 。



### 3.2 影子跟读 (Shadowing Recorder)

* 
**Echo 模式**：机器读一句，孩子读一句 。


* 
**双声轨回放**：提供“魔法师原声”与“我的声音”对比按钮。不强制 AI 打分，而是培养孩子的语感敏感度 。


* 
**波形比对**：在离线状态下展示两者音波图，让孩子肉眼观察节奏与停顿 。



### 3.3 魔法查词与翻译策略

* 
**渐进式显现**：默认隐藏全文翻译。只有长按单词或点击求助时才弹出 。


* 
**视觉锚点**：对于基础名词（如 apple, dog），在弹窗中显示 Emoji 或简单插图 。


* 
**离线字典**：内置约 5000 词的轻量级中英词典库 。



---

## 4. 虚拟伙伴养成系统（The Buddy System）

设计目的：建立情感连接，通过“所有权”和“损失厌恶”留住孩子 。

4.1 进化形态设计 

| 阶段 | 对应等级 | 名称 | 特征描述 |
| --- | --- | --- | --- |
| 形态 I | L1 | 语言之卵 | 半透明蛋，带字母暗纹，点击会晃动。 |
| 形态 II | L2-L3 | 萌芽幼兽 | 小猫或小龙形象，点击单词时会跳到单词上方。 |
| 形态 III | L4-L5 | 守护精灵 | 佩戴魔法饰品，会说简单的离线英语问候语。 |
| 形态 IV | L6-L7 | 博学贤者 | 拟人化形象，漂浮书卷，音效深邃。 |

### 4.2 互动与喂养机制

* 
**魔力值 (Magic Power)**：通过阅读故事（+10）、Quiz 全对（+20）、复习旧词（+2）获得 。


* 
**情感状态**：若超过 24 小时未登录，Buddy 会显示“伤心”或“饥饿”状态 。


* 
**进化仪式**：魔力槽满后，孩子需长按“咒语”按钮触发进化动画 。



---

## 5. 练习与复习系统 (The Quiz & Spell Book)

设计目的：利用“提取练习”原理，将短期记忆转化为长期能力 。

5.1 题型层级逻辑 

* **基础层 (L1-L2)**：
* 
**听音辨图**：播放单词，在三张图中选出一张，绕过中文翻译 。


* 
**单词拼装**：拖拽字母完成拼写训练 。




* **进阶层 (L3-L4)**：
* 
**碎纸机还原**：打乱简单句，让孩子排列主谓宾语序 。


* 
**魔法填空**：在故事原文中挖空填词 。




* **高阶层 (L5-L7)**：
* 
**逻辑拼图**：根据逻辑连接词（However, Therefore）对段落进行排序 。


* 
**关键词挑战**：要求孩子利用给出的 5 个核心词口述一段话并录音 。





### 5.2 魔法图鉴 (The Magic Grimoire)

* 
**卡牌化**：连续 3 次答对的生词转化为“魔法卡牌”，分为白色（普通）到金色（传说）四个稀有度 。


* 
**图鉴进度**：每个区域都有对应的收集包，100% 收集后获得“守护者”称号 。



---

## 6. 激励与社交反馈（The Guardian Scroll）

设计目的：打破数字孤岛，引入老师与家长的外部约束力 。

### 6.1 离线数据同步：二维码技术 (QR Sync)

* 
**机制**：App 将孩子的进度（等级、单词、勋章）压缩为 JSON 字符串并生成二维码 。


* 
**场景**：老师扫描孩子设备上的二维码，即可在无网状态下批量收集全班进度 。



### 6.2 魔法报告与荣誉

* 
**视觉转化**：将数据翻译为家长能懂的语言，如“已解锁咒语（词汇量）”、“专注能量（时长）” 。


* 
**物理证书 (Printable Glory)**：支持导出带有 Buddy 形象和孩子名字的 PDF 证书，供线下打印张贴 。



---

## 7. 技术实现指引

### 7.1 核心架构：Magic 3 架构

* 
**前端框架**：React/Vue + Vite，构建极轻量级 PWA 。


* 
**存储引擎**：Dexie.js (IndexedDB 封装)，存储用户阅读历史、本地字典、地图进度和卡牌图鉴 。


* 
**离线缓存**：完善 `manifest.json` 和 `Service Worker`，确保 40+ 故事和 TTS UI 资源能瞬间加载 。



### 7.2 数据协议：Story JSON Schema

```json
{
  "story_id": "forest_001",
  "level": 1,
  "assets": { "audio": "forest_001.mp3", "image": "apple_forest.webp" },
  "content": "Once there was a little rabbit.",
  "quiz": [
    {
      "type": "multiple_choice",
      "question": "Where did the rabbit go?",
      "options": ["Forest", "Moon", "School"],
      "correct": 0
    }
  ]
}

```

(开发者注：坚持用 JSON 管理内容，便于后续社区志愿者通过 Excel 工具批量生产内容 。)

---

## 8. 迭代路线图 (Roadmap)

1. 
**第一阶段 (P0: 骨架建设)**：搭建 PWA 环境，实现 IndexedDB 存储，集成 L1-L2 的 50 个故事，完成基础阅读器（高亮+点击发音） 。


2. 
**第二阶段 (P1: 趣味赋能)**：上线“魔法地图”与进度解锁逻辑；实现 Buddy 初级形态和 Quiz 练习系统 。


3. 
**第三阶段 (P2: 激励完善)**：开发“收集卡牌”图鉴系统与勋章体系；上线“守护者卷轴”与二维码同步功能 。


4. 
**第四阶段 (P3: 联网 AI 扩充)**：接入联网状态下的精准语音打分、AI 绘本生成及全球排名系统 。



---

## 第三部分：最后检查与逻辑确认

### 检查项汇总：

* 
**是否满足离线？** 是。核心逻辑全部基于本地 JSON 和 IndexedDB，TTS 引导使用本地发音库 。


* **是否不遗漏细节？** 是。已包含从 L1-L7 的详细分级、Buddy 四级进化、Quiz 三层题型、以及二维码同步等所有细节。
* **逻辑是否闭环？** 是。形成了“学习  魔力值  喂养 Buddy  进化/解锁地图  魔法报告反馈给家长”的完整闭环。
* 
**是否面向开发？** 是。提供了 ASCII 线条图原型、JSON 数据结构示例及 PWA 选型建议 。
