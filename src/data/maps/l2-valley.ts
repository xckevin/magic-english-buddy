/**
 * L2 Echo Valley - å›å£°å±±è°·åœ°å›¾æ•°æ®
 */

import type { MapNode, MapRegion } from '@/db';

export const l2ValleyMapRegion: MapRegion = {
  id: 'region_l2',
  level: 2,
  name: 'Echo Valley',
  nameCn: 'å›å£°å±±è°·',
  theme: 'valley',
  backgroundColor: '#1a2f4a',
  backgroundImage: '/assets/maps/l2-valley-bg.webp',
  nodes: [
    'node_l2_001', 'node_l2_002', 'node_l2_003', 'node_l2_004', 'node_l2_005',
    'node_l2_006', 'node_l2_007', 'node_l2_008', 'node_l2_009', 'node_l2_010',
    'node_l2_boss',
  ],
  unlockCondition: {
    requiredLevel: 2,
    requiredNodes: ['node_l1_boss'], // éœ€è¦å®Œæˆ L1 Boss
  },
};

export const l2ValleyMapNodes: MapNode[] = [
  {
    id: 'node_l2_001',
    regionId: 'region_l2',
    type: 'story',
    storyId: 'l2_001',
    position: { x: 80, y: 400 },
    prerequisites: [],
    rewards: { magicPower: 15, cards: ['beautiful', 'echo', 'valley'] },
    title: 'The Singing Bird',
    titleCn: 'å”±æ­Œçš„å°é¸Ÿ',
    emoji: 'ğŸ¦',
  },
  {
    id: 'node_l2_002',
    regionId: 'region_l2',
    type: 'story',
    storyId: 'l2_002',
    position: { x: 180, y: 340 },
    prerequisites: ['node_l2_001'],
    rewards: { magicPower: 15, cards: ['kitten', 'forest', 'friendly'] },
    title: 'The Lost Kitten',
    titleCn: 'è¿·è·¯çš„å°çŒ«',
    emoji: 'ğŸ±',
  },
  {
    id: 'node_l2_003',
    regionId: 'region_l2',
    type: 'treasure',
    position: { x: 280, y: 380 },
    prerequisites: ['node_l2_002'],
    rewards: { magicPower: 30, cards: ['rainbow'] },
    title: 'Valley Treasure',
    titleCn: 'å±±è°·å®ç®±',
    emoji: 'ğŸ',
  },
  {
    id: 'node_l2_004',
    regionId: 'region_l2',
    type: 'story',
    storyId: 'l2_003',
    position: { x: 350, y: 300 },
    prerequisites: ['node_l2_003'],
    rewards: { magicPower: 15, cards: ['rainbow', 'colorful', 'bridge'] },
    title: 'The Rainbow Bridge',
    titleCn: 'å½©è™¹æ¡¥',
    emoji: 'ğŸŒˆ',
  },
  {
    id: 'node_l2_005',
    regionId: 'region_l2',
    type: 'story',
    storyId: 'l2_004',
    position: { x: 420, y: 360 },
    prerequisites: ['node_l2_004'],
    rewards: { magicPower: 15, cards: ['brave', 'mouse', 'loud'] },
    title: 'The Brave Mouse',
    titleCn: 'å‹‡æ•¢çš„è€é¼ ',
    emoji: 'ğŸ­',
  },
  {
    id: 'node_l2_006',
    regionId: 'region_l2',
    type: 'branch',
    position: { x: 500, y: 300 },
    prerequisites: ['node_l2_005'],
    rewards: { magicPower: 10 },
    title: 'Crossroads',
    titleCn: 'åå­—è·¯å£',
    emoji: 'ğŸ”€',
  },
  {
    id: 'node_l2_007',
    regionId: 'region_l2',
    type: 'story',
    storyId: 'l2_005',
    position: { x: 550, y: 220 },
    prerequisites: ['node_l2_006'],
    rewards: { magicPower: 15, cards: ['garden', 'secret', 'change'] },
    title: 'The Magic Garden',
    titleCn: 'é­”æ³•èŠ±å›­',
    emoji: 'ğŸŒ¸',
  },
  {
    id: 'node_l2_008',
    regionId: 'region_l2',
    type: 'story',
    storyId: 'l2_006',
    position: { x: 550, y: 380 },
    prerequisites: ['node_l2_006'],
    rewards: { magicPower: 15, cards: ['treasure', 'map', 'hidden'] },
    title: 'The Treasure Map',
    titleCn: 'è—å®å›¾',
    emoji: 'ğŸ—ºï¸',
  },
  {
    id: 'node_l2_009',
    regionId: 'region_l2',
    type: 'story',
    storyId: 'l2_007',
    position: { x: 650, y: 300 },
    prerequisites: ['node_l2_007', 'node_l2_008'],
    rewards: { magicPower: 15, cards: ['kite', 'wind', 'fly'] },
    title: 'The Flying Kite',
    titleCn: 'é£ç¿”çš„é£ç­',
    emoji: 'ğŸª',
  },
  {
    id: 'node_l2_010',
    regionId: 'region_l2',
    type: 'story',
    storyId: 'l2_008',
    position: { x: 720, y: 240 },
    prerequisites: ['node_l2_009'],
    rewards: { magicPower: 15, cards: ['winter', 'sleepy', 'spring'] },
    title: 'The Sleepy Bear',
    titleCn: 'å›°å€¦çš„å°ç†Š',
    emoji: 'ğŸ»',
  },
  {
    id: 'node_l2_boss',
    regionId: 'region_l2',
    type: 'boss',
    storyId: 'l2_010',
    position: { x: 800, y: 300 },
    prerequisites: ['node_l2_010'],
    rewards: { magicPower: 50, cards: ['princess', 'moon', 'night'], buddyAccessory: 'valley_crown' },
    title: 'Valley Guardian',
    titleCn: 'å±±è°·å®ˆæŠ¤è€…',
    emoji: 'ğŸ‘‘',
  },
];

export default {
  region: l2ValleyMapRegion,
  nodes: l2ValleyMapNodes,
};

